# Databricks notebook source
{"content":"IyBEYXRhYnJpY2tzIG5vdGVib29rIHNvdXJjZQojIE1BR0lDICVtZAojIE1BR0lDICNDcmVhdGUgQnJvbnplIHRhYmxlcwoKIyBDT01NQU5EIC0tLS0tLS0tLS0KCiMgTUFHSUMgJW1kCiMgTUFHSUMgIyNDcmVhdGUgYWlycG9ydHMgQnJvbnplIHRhYmxlCgojIENPTU1BTkQgLS0tLS0tLS0tLQoKIyBTdG9yYWdlIGNvbmZpZ3VyYXRpb25zCnN0b3JhZ2VfYWNjb3VudF9uYW1lID0gImRhdGFicmlja3NzYXJhdmFsaSIKc3RvcmFnZV9hY2NvdW50X2tleSA9ICJ6Y0FpelJQZFFIQitIeU1RUzVULzhIeU5CWnAwK3JnQ3d6SHkxSzBMNkFBVm9IZ0l6eU9pUi9ERjFXUDBNUWUzVklBTVpQOUFVb2pUK0FTdHlCYVNEZz09IgoKIyBCdWlsZCB0aGUgd2FzYnMgVVJMIGZybyBmaWxlcGF0aApmaWxlX3BhdGggPSBmIndhc2JzOi8vbGFuZGluZ0B7c3RvcmFnZV9hY2NvdW50X25hbWV9LmJsb2IuY29yZS53aW5kb3dzLm5ldC9haXJwb3J0cy5jc3YiCgojIFJlYWQgbGFuZGluZyBkYXRhIGludG8gZGF0YWZyYW1lIGFuZCBzYXZlIGFzIERlbHRhIEJyb256ZSB0YWJsZQpkZWYgYnJvbnplX2FpcnBvcnRzX2luZ2VzdGlvbihmaWxlX3BhdGgpOgogICAgZGZfYnJvbnplX2FpcnBvcnRzID0gc3BhcmsucmVhZC5mb3JtYXQoImNzdiIpIFwKICAgICAgICAgLm9wdGlvbigiaGVhZGVyIiwgInRydWUiKSBcCiAgICAgICAgIC5vcHRpb24oImluZmVyU2NoZW1hIiwgInRydWUiKSBcCiAgICAgICAgIC5vcHRpb24oImZzLmF6dXJlLmFjY291bnQua2V5LiIgKyBzdG9yYWdlX2FjY291bnRfbmFtZSArICIuYmxvYi5jb3JlLndpbmRvd3MubmV0Iiwgc3RvcmFnZV9hY2NvdW50X2tleSkgXAogICAgICAgICAubG9hZChmaWxlX3BhdGgpCiAgICBkZl9icm9uemVfYWlycG9ydHMud3JpdGUuZm9ybWF0KCJkZWx0YSIpLm1vZGUoIm92ZXJ3cml0ZSIpLnNhdmVBc1RhYmxlKCJicm9uemVfYWlycG9ydHMiKQogICAgcHJpbnQoIkJyb256ZSBJbmdlc3Rpb24gY29tcGxldGVkIC0gRGF0YSBDbGVhbnNlZCBhbmQgSW5nZXN0ZWQgaW50byBhaXJwb3J0cyB0YWJsZSIpCgoKI0xhbmRpbmcgdG8gQnJvbnplIEluZ2VzdGlvbgpicm9uemVfYWlycG9ydHNfaW5nZXN0aW9uKGZpbGVfcGF0aCkKCiMgQ09NTUFORCAtLS0tLS0tLS0tCgojIE1BR0lDICVtZAojIE1BR0lDICMjQ3JlYXRlIGNvdW50cmllcyBCcm9uemUgdGFibGUKCiMgQ09NTUFORCAtLS0tLS0tLS0tCgojIFN0b3JhZ2UgY29uZmlndXJhdGlvbnMKc3RvcmFnZV9hY2NvdW50X25hbWUgPSAiZGF0YWJyaWNrc3NhcmF2YWxpIgpzdG9yYWdlX2FjY291bnRfa2V5ID0gInpjQWl6UlBkUUhCK0h5TVFTNVQvOEh5TkJacDArcmdDd3pIeTFLMEw2QUFWb0hnSXp5T2lSL0RGMVdQME1RZTNWSUFNWlA5QVVvalQrQVN0eUJhU0RnPT0iCgojIEJ1aWxkIHRoZSB3YXNicyBVUkwgZnJvIGZpbGVwYXRoCmZpbGVfcGF0aCA9IGYid2FzYnM6Ly9sYW5kaW5nQHtzdG9yYWdlX2FjY291bnRfbmFtZX0uYmxvYi5jb3JlLndpbmRvd3MubmV0L2NvdW50cmllcy5jc3YiCgojIFJlYWQgbGFuZGluZyBkYXRhIGludG8gZGF0YWZyYW1lIGFuZCBzYXZlIGFzIERlbHRhIEJyb256ZSB0YWJsZQpkZWYgYnJvbnplX2NvdW50cmllc19pbmdlc3Rpb24oZmlsZV9wYXRoKToKICAgIGRmX2Jyb256ZV9jb3VudHJpZXMgPSBzcGFyay5yZWFkLmZvcm1hdCgiY3N2IikgXAogICAgICAgICAub3B0aW9uKCJoZWFkZXIiLCAidHJ1ZSIpIFwKICAgICAgICAgLm9wdGlvbigiaW5mZXJTY2hlbWEiLCAidHJ1ZSIpIFwKICAgICAgICAgLm9wdGlvbigiZnMuYXp1cmUuYWNjb3VudC5rZXkuIiArIHN0b3JhZ2VfYWNjb3VudF9uYW1lICsgIi5ibG9iLmNvcmUud2luZG93cy5uZXQiLCBzdG9yYWdlX2FjY291bnRfa2V5KSBcCiAgICAgICAgIC5sb2FkKGZpbGVfcGF0aCkKICAgIGRmX2Jyb256ZV9jb3VudHJpZXMud3JpdGUuZm9ybWF0KCJkZWx0YSIpLm1vZGUoIm92ZXJ3cml0ZSIpLnNhdmVBc1RhYmxlKCJicm9uemVfY291bnRyaWVzIikKICAgIHByaW50KCJCcm9uemUgSW5nZXN0aW9uIGNvbXBsZXRlZCAtIERhdGEgQ2xlYW5zZWQgYW5kIEluZ2VzdGVkIGludG8gY291bnRyaWVzIHRhYmxlIikKCgojTGFuZGluZyB0byBCcm9uemUgSW5nZXN0aW9uCmJyb256ZV9jb3VudHJpZXNfaW5nZXN0aW9uKGZpbGVfcGF0aCkKCiMgQ09NTUFORCAtLS0tLS0tLS0tCgojIE1BR0lDICVtZAojIE1BR0lDICMjQ3JlYXRlIHJ1bndheXMgQnJvbnplIHRhYmxlCgojIENPTU1BTkQgLS0tLS0tLS0tLQoKIyBTdG9yYWdlIGNvbmZpZ3VyYXRpb24Kc3RvcmFnZV9hY2NvdW50X25hbWUgPSAiZGF0YWJyaWNrc3NhcmF2YWxpIgpzdG9yYWdlX2FjY291bnRfa2V5ID0gInpjQWl6UlBkUUhCK0h5TVFTNVQvOEh5TkJacDArcmdDd3pIeTFLMEw2QUFWb0hnSXp5T2lSL0RGMVdQME1RZTNWSUFNWlA5QVVvalQrQVN0eUJhU0RnPT0iCgojIEJ1aWxkIHRoZSB3YXNicyBVUkwgZm9yIGZpbGVwYXRoCmZpbGVfcGF0aCA9IGYid2FzYnM6Ly9sYW5kaW5nQHtzdG9yYWdlX2FjY291bnRfbmFtZX0uYmxvYi5jb3JlLndpbmRvd3MubmV0L3J1bndheXMuY3N2IgoKIyBSZWFkIGxhbmRpbmcgZGF0YSBpbnRvIGRhdGFmcmFtZSBhbmQgc2F2ZSBhcyBEZWx0YSBCcm9uemUgdGFibGUKZGVmIGJyb256ZV9ydW53YXlzX2luZ2VzdGlvbihmaWxlX3BhdGgpOgogICAgZGZfYnJvbnplX3J1bndheXMgPSBzcGFyay5yZWFkLmZvcm1hdCgiY3N2IikgXAogICAgICAgICAub3B0aW9uKCJoZWFkZXIiLCAidHJ1ZSIpIFwKICAgICAgICAgLm9wdGlvbigiaW5mZXJTY2hlbWEiLCAidHJ1ZSIpIFwKICAgICAgICAgLm9wdGlvbigiZnMuYXp1cmUuYWNjb3VudC5rZXkuIiArIHN0b3JhZ2VfYWNjb3VudF9uYW1lICsgIi5ibG9iLmNvcmUud2luZG93cy5uZXQiLCBzdG9yYWdlX2FjY291bnRfa2V5KSBcCiAgICAgICAgIC5sb2FkKGZpbGVfcGF0aCkKCiAgICBkZl9icm9uemVfcnVud2F5cy53cml0ZS5mb3JtYXQoImRlbHRhIikubW9kZSgib3ZlcndyaXRlIikuc2F2ZUFzVGFibGUoImJyb256ZV9ydW53YXlzIikKICAgIHByaW50KCJCcm9uemUgSW5nZXN0aW9uIGNvbXBsZXRlZCAtIERhdGEgQ2xlYW5zZWQgYW5kIEluZ2VzdGVkIGludG8gYnJvbnplX3J1bndheXMgdGFibGUiKQoKCiNMYW5kaW5nIHRvIEJyb256ZSBJbmdlc3Rpb24KYnJvbnplX3J1bndheXNfaW5nZXN0aW9uKGZpbGVfcGF0aCk=","file_type":"py"}