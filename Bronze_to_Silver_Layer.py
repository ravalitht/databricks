# Databricks notebook source
{"content":"IyBEYXRhYnJpY2tzIG5vdGVib29rIHNvdXJjZQojIE1BR0lDICVtZAojIE1BR0lDICNDcmVhdGUgU2lsdmVyIHRhYmxlcwoKIyBDT01NQU5EIC0tLS0tLS0tLS0KCiMgTUFHSUMgJW1kCiMgTUFHSUMgIyNDcmVhdGUgYWlycG9ydHMgU2lsdmVyIHRhYmxlCgojIENPTU1BTkQgLS0tLS0tLS0tLQoKI1JlYWQgYnJvbnplIHRhYmxlCmRlZiByZWFkX2Jyb256ZV9haXJwb3J0cygpOgogICAgcmV0dXJuIHNwYXJrLnJlYWQudGFibGUoImJyb256ZV9haXJwb3J0cyIpCgojIFJlYWQgYnJvbnplIGRhdGEgaW50byBkYXRhZnJhbWUgYW5kIHNhdmUgYXMgRGVsdGEgU2lsdmVyIHRhYmxlCmRlZiBzaWx2ZXJfYWlycG9ydHNfaW5nZXN0aW9uKGJyb256ZV9haXJwb3J0cyk6CiAgICBkZl9zaWx2ZXJfYWlycG9ydHMgPSBicm9uemVfYWlycG9ydHMKCiAgICAjRGF0YSBDbGVhbnNpbmcgVHJhbnNmb3JtYXRpb25zCiAgICBDbGVhbnNpbmdfY29sdW1ucyA9IFsiaWQiLCJpZGVudCJdCiAgICBkZl9zaWx2ZXJfYWlycG9ydHMgPSBkZl9zaWx2ZXJfYWlycG9ydHMuZHJvcER1cGxpY2F0ZXMoQ2xlYW5zaW5nX2NvbHVtbnMpCiAgICBkZl9zaWx2ZXJfYWlycG9ydHMgPSBkZl9zaWx2ZXJfYWlycG9ydHMuZHJvcG5hKGhvdz0iYW55Iiwgc3Vic2V0PUNsZWFuc2luZ19jb2x1bW5zKQoKICAgICMgU2F2ZSBhcyBEZWx0YSBTaWx2ZXIgdGFibGUKICAgIGRmX3NpbHZlcl9haXJwb3J0cy53cml0ZS5mb3JtYXQoImRlbHRhIikubW9kZSgib3ZlcndyaXRlIikuc2F2ZUFzVGFibGUoInNpbHZlcl9haXJwb3J0cyIpCgogICAgcHJpbnQoIlNpbHZlciBJbmdlc3Rpb24gY29tcGxldGVkIC0gRGF0YSBDbGVhbnNlZCBhbmQgSW5nZXN0ZWQgaW50byBzaWx2ZXJfYWlycG9ydHMgdGFibGUiKQogICAgCgojQnJvbnplIHRvIFNpbHZlciBJbmdlc3Rpb24KYnJvbnplX2FpcnBvcnRzID0gcmVhZF9icm9uemVfYWlycG9ydHMoKQpzaWx2ZXJfYWlycG9ydHNfaW5nZXN0aW9uKGJyb256ZV9haXJwb3J0cykKCiMgQ09NTUFORCAtLS0tLS0tLS0tCgojIE1BR0lDICVtZAojIE1BR0lDICMjQ3JlYXRlIGNvdW50cmllcyBTaWx2ZXIgdGFibGUKCiMgQ09NTUFORCAtLS0tLS0tLS0tCgojUmVhZCBicm9uemUgdGFibGUKZGVmIHJlYWRfYnJvbnplX2NvdW50cmllcygpOgogICAgcmV0dXJuIHNwYXJrLnJlYWQudGFibGUoImJyb256ZV9jb3VudHJpZXMiKQoKIyBSZWFkIGJyb256ZSBkYXRhIGludG8gZGF0YWZyYW1lIGFuZCBzYXZlIGFzIERlbHRhIFNpbHZlciB0YWJsZQpkZWYgc2lsdmVyX2NvdW50cmllc19pbmdlc3Rpb24oYnJvbnplX2NvdW50cmllcyk6CiAgICBkZl9zaWx2ZXJfY291bnRyaWVzID0gYnJvbnplX2NvdW50cmllcwoKICAgICNEYXRhIENsZWFuc2luZyBUcmFuc2Zvcm1hdGlvbnMKICAgIENsZWFuc2luZ19jb2x1bW5zID0gWyJjb2RlIiwiaWQiXQogICAgZGZfc2lsdmVyX2NvdW50cmllcyA9IGRmX3NpbHZlcl9jb3VudHJpZXMuZHJvcER1cGxpY2F0ZXMoQ2xlYW5zaW5nX2NvbHVtbnMpCiAgICBkZl9zaWx2ZXJfY291bnRyaWVzID0gZGZfc2lsdmVyX2NvdW50cmllcy5kcm9wbmEoaG93PSJhbnkiLCBzdWJzZXQ9Q2xlYW5zaW5nX2NvbHVtbnMpCgogICAgIyBTYXZlIGFzIERlbHRhIFNpbHZlciB0YWJsZQogICAgZGZfc2lsdmVyX2NvdW50cmllcy53cml0ZS5mb3JtYXQoImRlbHRhIikubW9kZSgib3ZlcndyaXRlIikuc2F2ZUFzVGFibGUoInNpbHZlcl9jb3VudHJpZXMiKQoKICAgIHByaW50KCJTaWx2ZXIgSW5nZXN0aW9uIGNvbXBsZXRlZCAtIERhdGEgQ2xlYW5zZWQgYW5kIEluZ2VzdGVkIGludG8gc2lsdmVyX2NvdW50cmllcyB0YWJsZSIpCgoKI0Jyb256ZSB0byBTaWx2ZXIgSW5nZXN0aW9uCmJyb256ZV9jb3VudHJpZXMgPSByZWFkX2Jyb256ZV9jb3VudHJpZXMoKQpzaWx2ZXJfY291bnRyaWVzX2luZ2VzdGlvbihicm9uemVfY291bnRyaWVzKQoKIyBDT01NQU5EIC0tLS0tLS0tLS0KCiMgTUFHSUMgJW1kCiMgTUFHSUMgIyNDcmVhdGUgcnVud2F5cyBTaWx2ZXIgdGFibGUKCiMgQ09NTUFORCAtLS0tLS0tLS0tCgojUmVhZCBicm9uemUgdGFibGUKZGVmIHJlYWRfYnJvbnplX3J1bndheXMoKToKICAgIHJldHVybiBzcGFyay5yZWFkLnRhYmxlKCJicm9uemVfcnVud2F5cyIpCgojIFJlYWQgYnJvbnplIGRhdGEgaW50byBkYXRhZnJhbWUgYW5kIHNhdmUgYXMgRGVsdGEgU2lsdmVyIHRhYmxlCmRlZiBzaWx2ZXJfcnVud2F5c19pbmdlc3Rpb24oYnJvbnplX3J1bndheXMpOgogICAgZGZfc2lsdmVyX3J1bndheXMgPSBicm9uemVfcnVud2F5cwoKICAgICNEYXRhIENsZWFuc2luZyBUcmFuc2Zvcm1hdGlvbnMKICAgIENsZWFuc2luZ19jb2x1bW5zID0gWyJpZCJdCiAgICBkZl9zaWx2ZXJfcnVud2F5cyA9IGRmX3NpbHZlcl9ydW53YXlzLmRyb3BEdXBsaWNhdGVzKENsZWFuc2luZ19jb2x1bW5zKQogICAgZGZfc2lsdmVyX3J1bndheXMgPSBkZl9zaWx2ZXJfcnVud2F5cy5kcm9wbmEoaG93PSJhbnkiLCBzdWJzZXQ9Q2xlYW5zaW5nX2NvbHVtbnMpCgogICAgIyBTYXZlIGFzIERlbHRhIFNpbHZlciB0YWJsZQogICAgZGZfc2lsdmVyX3J1bndheXMud3JpdGUuZm9ybWF0KCJkZWx0YSIpLm1vZGUoIm92ZXJ3cml0ZSIpLnNhdmVBc1RhYmxlKCJzaWx2ZXJfcnVud2F5cyIpCgogICAgcHJpbnQoIlNpbHZlciBJbmdlc3Rpb24gY29tcGxldGVkIC0gRGF0YSBDbGVhbnNlZCBhbmQgSW5nZXN0ZWQgaW50byBzaWx2ZXJfcnVud2F5cyB0YWJsZSIpCgoKI0Jyb256ZSB0byBTaWx2ZXIgSW5nZXN0aW9uCmJyb256ZV9ydW53YXlzID0gcmVhZF9icm9uemVfcnVud2F5cygpCnNpbHZlcl9ydW53YXlzX2luZ2VzdGlvbihicm9uemVfcnVud2F5cyk=","file_type":"py"}